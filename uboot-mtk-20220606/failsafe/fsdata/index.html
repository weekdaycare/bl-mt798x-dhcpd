<!DOCTYPE HTML>
<html>

<head>
	<meta charset="utf-8">
	<title>Firmware update</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="/style.css">
	<script src="/index.js"></script>
</head>

<body onload="initIndex()">
	<div class="app" data-title-key="app.title">
		<aside class="sidebar">
			<div class="brand">
				<div class="brand-title" data-i18n="app.title">Firmware Update</div>
				<div class="brand-sub" id="version"></div>
			</div>

			<div class="lang">
				<label for="langSelect" data-i18n="lang.label">Language</label>
				<select id="langSelect">
					<option value="en">English</option>
					<option value="zh-cn">简体中文</option>
				</select>
			</div>

			<div class="lang">
				<label for="themeSelect" data-i18n="theme.label">Theme</label>
				<select id="themeSelect">
					<option value="auto" data-i18n="theme.auto">Auto</option>
					<option value="light" data-i18n="theme.light">Light</option>
					<option value="dark" data-i18n="theme.dark">Dark</option>
				</select>
			</div>

			<nav class="nav">
				<div class="nav-section" data-i18n="nav.basic">Basic</div>
				<a class="nav-item" href="#panel-firmware" data-target="panel-firmware"
					data-i18n="nav.firmware">Firmware</a>
				<a class="nav-item" href="#panel-uboot" data-target="panel-uboot" data-i18n="nav.uboot">U-Boot</a>
				<div class="nav-section" data-i18n="nav.advanced">Advanced</div>
				<a class="nav-item" href="#panel-bl2" data-target="panel-bl2" data-i18n="nav.bl2">BL2</a>
				<a class="nav-item" href="#panel-gpt" data-target="panel-gpt" data-i18n="nav.gpt">GPT</a>
				<a class="nav-item" href="#panel-initramfs" data-target="panel-initramfs"
					data-i18n="nav.initramfs">Initramfs</a>
			</nav>
		</aside>

		<main class="content">
			<section class="panel" id="panel-firmware">
				<h1 data-i18n="panel.firmware.title">Firmware update</h1>
				<p class="hint" data-role="hint" data-i18n-html="panel.firmware.hint"></p>

				<form class="upload-form" data-role="form" onsubmit="return false">
					<div class="kv" data-role="mtd_layout" style="display: none;">
						<div data-role="current_mtd_layout"></div>
						<div style="height: 10px"></div>
						<div class="muted" data-i18n="mtd.choose">Choose MTD layout</div>
						<div style="height: 8px"></div>
						<select data-role="mtd_layout_label" name="mtd_layout_label"
							style="width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.10); background: rgba(0,0,0,0.20); color: rgba(255,255,255,0.92);"></select>
					</div>

					<input data-role="file" type="file" name="firmware">
					<div class="actions">
						<button type="button" class="btn primary" onclick="upload('firmware', 'panel-firmware')"
							data-i18n="btn.upload">Upload</button>
					</div>
				</form>

				<div class="bar" data-role="bar" style="display: none;"></div>
				<div class="meta">
					<div class="kv" data-role="size" style="display: none;"></div>
					<div class="kv" data-role="md5" style="display: none;"></div>
					<div class="kv" data-role="mtd" style="display: none;"></div>
				</div>

				<div class="confirm" data-role="upgrade" style="display: none;">
					<p data-i18n="confirm.update">If all information above is correct, click “Update”.</p>
					<button class="btn danger big" onclick="location = '/flashing.html'"
						data-i18n="btn.update">Update</button>
				</div>

				<div class="note warning">
					<strong data-i18n="warn.title">Warnings</strong>
					<ul>
						<li data-i18n="warn.noPowerOff"></li>
						<li data-i18n="warn.restart"></li>
						<li data-i18n="warn.chooseProperFirmware"></li>
					</ul>
				</div>
			</section>

			<section class="panel hidden" id="panel-uboot">
				<h1 data-i18n="panel.uboot.title">U-Boot update</h1>
				<p class="hint" data-role="hint" data-i18n-html="panel.uboot.hint"></p>
				<form class="upload-form" data-role="form" onsubmit="return false">
					<input data-role="file" type="file" name="fip">
					<div class="actions">
						<button type="button" class="btn primary" onclick="upload('fip', 'panel-uboot')"
							data-i18n="btn.upload">Upload</button>
					</div>
				</form>
				<div class="bar" data-role="bar" style="display: none;"></div>
				<div class="meta">
					<div class="kv" data-role="size" style="display: none;"></div>
					<div class="kv" data-role="md5" style="display: none;"></div>
				</div>
				<div class="confirm" data-role="upgrade" style="display: none;">
					<p data-i18n="confirm.update"></p>
					<button class="btn danger big" onclick="location = '/flashing.html'"
						data-i18n="btn.update">Update</button>
				</div>
				<div class="note warning">
					<strong data-i18n="warn.title"></strong>
					<ul>
						<li data-i18n="warn.noPowerOff"></li>
						<li data-i18n="warn.restart"></li>
						<li data-i18n="warn.chooseProperUboot"></li>
						<li data-i18n="warn.ubootDanger"></li>
					</ul>
				</div>
			</section>

			<section class="panel hidden" id="panel-bl2">
				<h1 data-i18n="panel.bl2.title">BL2 update</h1>
				<p class="hint" data-role="hint" data-i18n-html="panel.bl2.hint"></p>
				<form class="upload-form" data-role="form" onsubmit="return false">
					<input data-role="file" type="file" name="bl2">
					<div class="actions">
						<button type="button" class="btn primary" onclick="upload('bl2', 'panel-bl2')"
							data-i18n="btn.upload">Upload</button>
					</div>
				</form>
				<div class="bar" data-role="bar" style="display: none;"></div>
				<div class="meta">
					<div class="kv" data-role="size" style="display: none;"></div>
					<div class="kv" data-role="md5" style="display: none;"></div>
				</div>
				<div class="confirm" data-role="upgrade" style="display: none;">
					<p data-i18n="confirm.update"></p>
					<button class="btn danger big" onclick="location = '/flashing.html'"
						data-i18n="btn.update">Update</button>
				</div>
				<div class="note warning">
					<strong data-i18n="warn.title"></strong>
					<ul>
						<li data-i18n="warn.noPowerOff"></li>
						<li data-i18n="warn.restart"></li>
						<li data-i18n="warn.chooseProperBl2"></li>
						<li data-i18n="warn.bl2Danger"></li>
					</ul>
				</div>
			</section>

			<section class="panel hidden" id="panel-gpt">
				<h1 data-i18n="panel.gpt.title">GPT update</h1>
				<p class="hint" data-role="hint" data-i18n-html="panel.gpt.hint"></p>
				<form class="upload-form" data-role="form" onsubmit="return false">
					<input data-role="file" type="file" name="gpt">
					<div class="actions">
						<button type="button" class="btn primary" onclick="upload('gpt', 'panel-gpt')"
							data-i18n="btn.upload">Upload</button>
					</div>
				</form>
				<div class="bar" data-role="bar" style="display: none;"></div>
				<div class="meta">
					<div class="kv" data-role="size" style="display: none;"></div>
					<div class="kv" data-role="md5" style="display: none;"></div>
				</div>
				<div class="confirm" data-role="upgrade" style="display: none;">
					<p data-i18n="confirm.update"></p>
					<button class="btn danger big" onclick="location = '/flashing.html'"
						data-i18n="btn.update">Update</button>
				</div>
				<div class="note warning">
					<strong data-i18n="warn.title"></strong>
					<ul>
						<li data-i18n="warn.noPowerOff"></li>
						<li data-i18n="warn.restart"></li>
						<li data-i18n="warn.chooseProperGpt"></li>
						<li data-i18n="warn.gptDanger"></li>
					</ul>
				</div>
			</section>

			<section class="panel hidden" id="panel-initramfs">
				<h1 data-i18n="panel.initramfs.title">Load initramfs</h1>
				<p class="hint" data-role="hint" data-i18n-html="panel.initramfs.hint"></p>
				<form class="upload-form" data-role="form" onsubmit="return false">
					<input data-role="file" type="file" name="initramfs">
					<div class="actions">
						<button type="button" class="btn primary" onclick="upload('initramfs', 'panel-initramfs')"
							data-i18n="btn.upload">Upload</button>
					</div>
				</form>
				<div class="bar" data-role="bar" style="display: none;"></div>
				<div class="meta">
					<div class="kv" data-role="size" style="display: none;"></div>
					<div class="kv" data-role="md5" style="display: none;"></div>
				</div>
				<div class="confirm" data-role="upgrade" style="display: none;">
					<p data-i18n="confirm.boot">If all information above is correct, click “Boot”.</p>
					<button class="btn danger big" onclick="location = '/booting.html'"
						data-i18n="btn.boot">Boot</button>
				</div>
				<div class="note warning">
					<strong data-i18n="warn.title"></strong>
					<ul>
						<li data-i18n="warn.initramfsBoot"></li>
						<li data-i18n="warn.chooseProperInitramfs"></li>
					</ul>
				</div>
			</section>
		</main>
	</div>
</body>

</html>